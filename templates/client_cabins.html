{% extends "base.html" %}

{% block content %}
<div class="layout">
    <aside class="sidebar">
        <ul class="sidebar-menu">
            <li><a href="{{ url_for('client_dashboard') }}">
                <span>ğŸ </span> Home
            </a></li>
            <li><a href="{{ url_for('client_cabins') }}" class="active">
                <span>ğŸ¡</span> Browse Cabins
            </a></li>
            <li><a href="{{ url_for('client_bookings') }}">
                <span>ğŸ“…</span> My Bookings
            </a></li>
            <li><a href="{{ url_for('logout') }}">
                <span>ğŸšª</span> Logout
            </a></li>
        </ul>
    </aside>

    <main class="main-content">
        <h1 style="font-size: 28px; color: #1f2937; margin-bottom: 30px;">Browse Our Cabins</h1>

        <div class="grid grid-3" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));">
            {% for cabin in cabins %}
            <div style="border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; background-color: white; transition: transform 0.2s, box-shadow 0.2s;" onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                <a href="{{ url_for('cabin_detail', cabin_id=cabin['id']) }}" style="text-decoration: none; color: inherit;">
                    {% if cabin['image_url'] %}
                    <img src="{{ cabin['image_url'] }}" alt="{{ cabin['name'] }}" style="width: 100%; height: 220px; object-fit: cover;">
                    {% else %}
                    <div style="width: 100%; height: 220px; background-color: #e5e7eb; display: flex; align-items: center; justify-content: center; font-size: 64px;">ğŸ¡</div>
                    {% endif %}
                </a>
                <div style="padding: 20px;">
                    <h3 style="font-size: 20px; margin-bottom: 10px; color: #1f2937;">{{ cabin['name'] }}</h3>
                    <p style="font-size: 14px; color: #6b7280; margin-bottom: 15px; line-height: 1.6;">
                        {{ cabin['description'][:100] }}{% if cabin['description'] and cabin['description']|length > 100 %}...{% endif %}
                    </p>
                    <div style="font-size: 13px; color: #6b7280; margin-bottom: 15px;">
                        <div style="margin-bottom: 5px;">ğŸ‘¥ Up to {{ cabin['capacity'] }} guests</div>
                        <div>ğŸ·ï¸ Cabin #{{ cabin['cabin_number'] }}</div>
                    </div>
                    {% if cabin['amenities'] %}
                    <div style="font-size: 12px; color: #6b7280; margin-bottom: 15px; padding: 10px; background-color: #f9fafb; border-radius: 4px;">
                        <strong>Amenities:</strong> {{ cabin['amenities'] }}
                    </div>
                    {% endif %}
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <div style="font-size: 28px; font-weight: 700; color: #1f2937;">
                            ${{ "%.0f"|format(cabin['price_per_night']) }}
                            <span style="font-size: 14px; font-weight: 400; color: #6b7280;">/night</span>
                        </div>
                        <a href="{{ url_for('cabin_detail', cabin_id=cabin['id']) }}" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </main>
</div>
{% endblock %}
